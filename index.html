<!DOCTYPE html>
<html>
	<title>Gift Registry</title>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
		<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
		<script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
		<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
	</head>
	<body>
		<!-- Start of first page I -->
		<div data-role="page" id="page1">
			<!-- Header -->
			<div data-role="header">
				<h1>Gift Registry</h1>
		

			</div>
			<!-- /header -->
			<!-- Content    -->
			<div data-role="content">
				<h3>Total Cost: <div id=glcost></div> with &nbsp; <div id=glitems></div></h3>
				<p>
					Please select an option from below list to get more information.
				</p>
				<button id="glbtn01" onclick="showOption(1)">Show Registry</button> <br />
				<button id="glbtn02" onclick="showOption(2)">Show Summary</button> <br />
				<button id="glbtn03" onclick="showOption(3)">Insert Item</button> <br />
				<button id="glbtn04" onclick="showOption(4)">Edit Item </button> <br />
				
				<div id="glresults"></div>
			</div>
			<!-- /content -->
			<!-- footer -->
			<div data-role="footer">
				<h4>&copy; 2013 Nuwan Hettiarachchi</h4>
			</div>
			<!-- /footer -->
		</div>
		<!-- /page -->
		
		
		
		<!-- Start of second page 2 -->
		<div data-role="page" id="page2">
			
			<!-- Header -->
			<div data-role="header">
				<h1>Registered Gifts</h1>
			</div>
			<!-- /header -->
			
			
			<!-- Content    -->
			<div data-role="content">
								
				<div id="glresultsFullList"></div>
				
			</div>
			<!-- /content -->
			
			
			<!-- footer -->
			<div data-role="footer">
				<h4>&copy; 2013 Nuwan Hettiarachchi</h4>
			</div>
			<!-- /footer -->
			
		</div>
		<!-- /page -->
		
				
	</body>
</html>
<script>
	document.addEventListener("deviceready", onDeviceReady, false);  // Waits for the device to be ready and calls onDeviceReady function when it is ready.

	function onDeviceReady() {
		document.addEventListener("pause", onPause, false); 
		document.addEventListener("resume", onResume, false);
		alert("Device is Ready");

	}


//What to do when paused
function onPause(){
	
	alert("paused!");
}

//What to do when resumed
function onResume()
{
	
	alert("resume");
}


// ------------------------------------------------------------

function showOption(str){
	//
	// Show the required content to the user with an ajax.
	//
	//alert(str);
	if (str==""){ // Clear results if not the correct option
		document.getElementById("glresultsFullList").innerHTML="";
		document.getElementById("glresults").innerHTML="";
		return;
	}
	
	if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari
		xmlhttp=new XMLHttpRequest();
	}else {// code for IE6, IE5
		xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
	}
	
	xmlhttp.onreadystatechange=function(){
		if (xmlhttp.readyState==4 && xmlhttp.status==200){
			document.getElementById("glresults").innerHTML=xmlhttp.responseText;
		}
	}

	//xmlhttp.open("GET","show.php?q="+str,true);
	
	if (str == "1"){
		xmlhttp.open("GET","http://comp1920.netai.net/show.php",true);
		xmlhttp.send();		
	}else if (str == "2"){
		xmlhttp.open("GET","http://comp1920.netai.net/summary.php",true);
		xmlhttp.send();
	}else{
		
		// Unknown option selected - do nothing.
	}
} 
      

</script>
